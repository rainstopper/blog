(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{309:function(e,t,i){var n=i(272),o=function(e){return e.get("autoCurveness")||null},a=function(e,t){var i=o(e),a=20,r=[];if("number"==typeof i)a=i;else if(n.isArray(i))return void(e.__curvenessList=i);t>a&&(a=t);var s=a%2?a+2:a+3;r=[];for(var l=0;l<s;l++)r.push((l%2?l+1:l)/10*(l%2?-1:1));e.__curvenessList=r},r=function(e,t,i){var n=[e.id,e.dataIndex].join("."),o=[t.id,t.dataIndex].join(".");return[i.uid,n,o].join("--\x3e")},s=function(e){var t=e.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},l=function(e,t){var i=t.__edgeMap;return i[e]?i[e].length:0};t.initCurvenessList=function(e){o(e)&&(e.__curvenessList=[],e.__edgeMap={},a(e))},t.createEdgeMapForCurveness=function(e,t,i,n){if(o(i)){var a=r(e,t,i),l=i.__edgeMap,u=l[s(a)];l[a]&&!u?l[a].isForward=!0:u&&l[a]&&(u.isForward=!0,l[a].isForward=!1),l[a]=l[a]||[],l[a].push(n)}},t.getCurvenessForEdge=function(e,t,i,u){var d=o(t),c=n.isArray(d);if(!d)return null;var h=function(e,t){var i=r(e.node1,e.node2,t);return t.__edgeMap[i]}(e,t);if(!h)return null;for(var g=-1,p=0;p<h.length;p++)if(h[p]===i){g=p;break}var f=function(e,t){return l(r(e.node1,e.node2,t),t)+l(r(e.node2,e.node1,t),t)}(e,t);a(t,f),e.lineStyle=e.lineStyle||{};var m=r(e.node1,e.node2,t),v=t.__curvenessList,y=c||f%2?0:1;if(h.isForward)return v[y+g];var x=s(m),_=l(x,t),b=v[g+_+y];return u?c?d&&0===d[0]?(_+y)%2?b:-b:((_%2?0:1)+y)%2?b:-b:(_+y)%2?b:-b:v[g+_+y]}},310:function(e,t,i){var n=i(272),o=i(283),a=n.each,r=n.curry;function s(e,t){return"all"===e||n.isArray(e)&&n.indexOf(e,t)>=0||e===t}function l(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[d(e)]}function u(e){return!!e.get("handle.show")}function d(e){return e.type+"||"+e.id}t.collect=function(e,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,i){var l=t.getComponent("tooltip"),c=t.getComponent("axisPointer"),h=c.get("link",!0)||[],g=[];a(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var p=d(i.model),f=e.coordSysAxesInfo[p]={};e.coordSysMap[p]=i;var m=i.model.getModel("tooltip",l);if(a(i.getAxes(),r(_,!1,null)),i.getTooltipAxes&&l&&m.get("show")){var v="axis"===m.get("trigger"),y="cross"===m.get("axisPointer.type"),x=i.getTooltipAxes(m.get("axisPointer.axis"));(v||y)&&a(x.baseAxes,r(_,!y||"cross",v)),y&&a(x.otherAxes,r(_,"cross",!1))}}function _(r,l,p){var v=p.model.getModel("axisPointer",c),y=v.get("show");if(y&&("auto"!==y||r||u(v))){null==l&&(l=v.get("triggerTooltip"));var x=(v=r?function(e,t,i,r,s,l){var u=t.getModel("axisPointer"),d={};a(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){d[e]=n.clone(u.get(e))})),d.snap="category"!==e.type&&!!l,"cross"===u.get("type")&&(d.type="line");var c=d.label||(d.label={});if(null==c.show&&(c.show=!1),"cross"===s){var h=u.get("label.show");if(c.show=null==h||h,!l){var g=d.lineStyle=u.get("crossStyle");g&&n.defaults(c,g.textStyle)}}return e.model.getModel("axisPointer",new o(d,i,r))}(p,m,c,t,r,l):v).get("snap"),_=d(p.model),b=l||x||"category"===p.type,S=e.axesInfo[_]={key:_,axis:p,coordSys:i,axisPointerModel:v,triggerTooltip:l,involveSeries:b,snap:x,useHandle:u(v),seriesModels:[]};f[_]=S,e.seriesInvolved|=b;var w=function(e,t){for(var i=t.model,n=t.dim,o=0;o<e.length;o++){var a=e[o]||{};if(s(a[n+"AxisId"],i.id)||s(a[n+"AxisIndex"],i.componentIndex)||s(a[n+"AxisName"],i.name))return o}}(h,p);if(null!=w){var I=g[w]||(g[w]={axesInfo:{}});I.axesInfo[_]=S,I.mapper=h[w].mapper,S.linkGroup=I}}}}))}(i,e,t),i.seriesInvolved&&function(e,t){t.eachSeries((function(t){var i=t.coordinateSystem,n=t.get("tooltip.trigger",!0),o=t.get("tooltip.show",!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==t.get("axisPointer.show",!0)&&a(e.coordSysAxesInfo[d(i.model)],(function(e){var n=e.axis;i.getAxis(n.dim)===n&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}),this)}(i,e),i},t.fixValue=function(e){var t=l(e);if(t){var i=t.axisPointerModel,n=t.axis.scale,o=i.option,a=i.get("status"),r=i.get("value");null!=r&&(r=n.parse(r));var s=u(i);null==a&&(o.status=s?"show":"hide");var d=n.getExtent().slice();d[0]>d[1]&&d.reverse(),(null==r||r>d[1])&&(r=d[1]),r<d[0]&&(r=d[0]),o.value=r,s&&(o.status=t.axis.scale.isBlank()?"hide":"show")}},t.getAxisInfo=l,t.getAxisPointerModel=function(e){var t=l(e);return t&&t.axisPointerModel},t.makeKey=d},328:function(e,t){t.getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=e.option.nodeScaleRatio,n=t.scale,o=n&&n[0]||1;return((t.getZoom()-1)*i+1)/o},t.getSymbolSize=function(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}},379:function(e,t,i){var n=i(274),o=i(272),a=i(309).getCurvenessForEdge;function r(e,t){e.eachEdge((function(e,i){var r=o.retrieve3(e.getModel().get("lineStyle.curveness"),-a(e,t,i,!0),0),s=n.clone(e.node1.getLayout()),l=n.clone(e.node2.getLayout()),u=[s,l];+r&&u.push([(s[0]+l[0])/2-(s[1]-l[1])*r,(s[1]+l[1])/2-(l[0]-s[0])*r]),e.setLayout(u)}))}t.simpleLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var i=e.getGraph();i.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])})),r(i,e)}},t.simpleLayoutEdge=r},380:function(e,t,i){var n=i(274),o=i(328),a=o.getSymbolSize,r=o.getNodeGlobalScale,s=i(272),l=i(309).getCurvenessForEdge,u=Math.PI,d=[];var c={value:function(e,t,i,n,o,a,r,s){var l=0,u=n.getSum("value"),d=2*Math.PI/(u||s);i.eachNode((function(e){var t=e.getValue("value"),i=d*(u?t:1)/2;l+=i,e.setLayout([o*Math.cos(l)+a,o*Math.sin(l)+r]),l+=i}))},symbolSize:function(e,t,i,n,o,s,l,c){var h=0;d.length=c;var g=r(e);i.eachNode((function(e){var t=a(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=g;var i=Math.asin(t/2/o);isNaN(i)&&(i=u/2),d[e.dataIndex]=i,h+=2*i}));var p=(2*u-h)/c/2,f=0;i.eachNode((function(e){var t=p+d[e.dataIndex];f+=t,e.setLayout([o*Math.cos(f)+s,o*Math.sin(f)+l]),f+=t}))}};t.circularLayout=function(e,t){var i=e.coordinateSystem;if(!i||"view"===i.type){var o=i.getBoundingRect(),a=e.getData(),r=a.graph,u=o.width/2+o.x,d=o.height/2+o.y,h=Math.min(o.width,o.height)/2,g=a.count();a.setLayout({cx:u,cy:d}),g&&(c[t](e,i,r,a,h,u,d,g),r.eachEdge((function(t,i){var o,a=s.retrieve3(t.getModel().get("lineStyle.curveness"),l(t,e,i),0),r=n.clone(t.node1.getLayout()),c=n.clone(t.node2.getLayout()),h=(r[0]+c[0])/2,g=(r[1]+c[1])/2;+a&&(o=[u*(a*=3)+h*(1-a),d*a+g*(1-a)]),t.setLayout([r,c,o])})))}}},381:function(e,t,i){var n=i(276);i(382),i(510),i(383);var o=i(512),a=i(293);n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,o),a.registerSubTypeDefaulter("legend",(function(){return"plain"}))},382:function(e,t,i){var n=i(276),o=i(272),a=i(283),r=i(273).isNameSpecified,s=i(371).legend.selector,l={all:{type:"all",title:o.clone(s.all)},inverse:{type:"inverse",title:o.clone(s.inverse)}},u=n.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){u.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),o.isArray(t)&&o.each(t,(function(e,i){o.isString(e)&&(e={type:e}),t[i]=o.merge(e,l[e.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],i=[];e.eachRawSeries((function(n){var o,a=n.name;if(i.push(a),n.legendVisualProvider){var s=n.legendVisualProvider.getAllNames();e.isSeriesFiltered(n)||(i=i.concat(s)),s.length?t=t.concat(s):o=!0}else o=!0;o&&r(n)&&t.push(n.name)})),this._availableNames=i;var n=this.get("data")||t,s=o.map(n,(function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new a(e,this,this.ecModel)}),this);this._data=s},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;o.each(i,(function(e){t[e.get("name")]=!1}))}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;o.each(e,(function(e){t[e.get("name",!0)]=!0}))},inverseSelect:function(){var e=this._data,t=this.option.selected;o.each(e,(function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]}))},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&o.indexOf(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),d=u;e.exports=d},383:function(e,t,i){i(278).__DEV__;var n=i(276),o=i(272),a=i(301).createSymbol,r=i(275),s=i(511).makeBackground,l=i(284),u=o.curry,d=o.each,c=r.Group,h=n.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new c),this._backgroundEl,this.group.add(this._selectorGroup=new c),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),r=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===r?"right":"left");var u=e.get("selector",!0),d=e.get("selectorPosition",!0);!u||d&&"auto"!==d||(d="horizontal"===r?"end":"start"),this.renderInner(a,e,t,i,u,r,d);var c=e.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},g=e.get("padding"),p=l.getLayoutRect(c,h,g),f=this.layoutInner(e,a,p,n,u,d),m=l.getLayoutRect(o.defaults({width:f.width,height:f.height},c),h,g);this.group.attr("position",[m.x-f.x,m.y-f.y]),this.group.add(this._backgroundEl=s(f,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,i,n,a,r,s){var l=this.getContentGroup(),h=o.createHashMap(),g=t.get("selectedMode"),v=[];i.eachRawSeries((function(e){!e.get("legendHoverLink")&&v.push(e.id)})),d(t.getData(),(function(o,a){var r=o.get("name");if(this.newlineDisabled||""!==r&&"\n"!==r){var s=i.getSeriesByName(r)[0];if(!h.get(r))if(s){var d=s.getData(),y=d.getVisual("color"),x=d.getVisual("borderColor");"function"==typeof y&&(y=y(s.getDataParams(0))),"function"==typeof x&&(x=x(s.getDataParams(0)));var _=d.getVisual("legendSymbol")||"roundRect",b=d.getVisual("symbol");this._createItem(r,a,o,t,_,b,e,y,x,g).on("click",u(p,r,null,n,v)).on("mouseover",u(f,s.name,null,n,v)).on("mouseout",u(m,s.name,null,n,v)),h.set(r,!0)}else i.eachRawSeries((function(i){if(!h.get(r)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(r))return;var l=s.indexOfName(r),d=s.getItemVisual(l,"color"),c=s.getItemVisual(l,"borderColor");this._createItem(r,a,o,t,"roundRect",null,e,d,c,g).on("click",u(p,null,r,n,v)).on("mouseover",u(f,null,r,n,v)).on("mouseout",u(m,null,r,n,v)),h.set(r,!0)}}),this)}else l.add(new c({newline:!0}))}),this),a&&this._createSelector(a,t,n,r,s)},_createSelector:function(e,t,i,n,o){var a=this.getSelectorGroup();d(e,(function(e){!function(e){var n=e.type,o=new r.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});a.add(o);var s=t.getModel("selectorLabel"),l=t.getModel("emphasis.selectorLabel");r.setLabelStyle(o.style,o.hoverStyle={},s,l,{defaultText:e.title,isRectText:!1}),r.setHoverStyle(o)}(e)}))},_createItem:function(e,t,i,n,s,l,u,d,h,p){var f=n.get("itemWidth"),m=n.get("itemHeight"),v=n.get("inactiveColor"),y=n.get("inactiveBorderColor"),x=n.get("symbolKeepAspect"),_=n.getModel("itemStyle"),b=n.isSelected(e),S=new c,w=i.getModel("textStyle"),I=i.get("icon"),T=i.getModel("tooltip"),M=T.parentModel,A=a(s=I||s,0,0,f,m,b?d:v,null==x||x);if(S.add(g(A,s,_,h,y,b)),!I&&l&&(l!==s||"none"===l)){var C=.8*m;"none"===l&&(l="circle");var D=a(l,(f-C)/2,(m-C)/2,C,C,b?d:v,null==x||x);S.add(g(D,l,_,h,y,b))}var L="left"===u?f+5:-5,P=u,O=n.get("formatter"),z=e;"string"==typeof O&&O?z=O.replace("{name}",null!=e?e:""):"function"==typeof O&&(z=O(e)),S.add(new r.Text({style:r.setTextStyle({},w,{text:z,x:L,y:m/2,textFill:b?w.getTextColor():v,textAlign:P,textVerticalAlign:"middle"})}));var k=new r.Rect({shape:S.getBoundingRect(),invisible:!0,tooltip:T.get("show")?o.extend({content:e,formatter:M.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},T.option):null});return S.add(k),S.eachChild((function(e){e.silent=!0})),k.silent=!p,this.getContentGroup().add(S),r.setHoverStyle(S),S.__legendDataIndex=t,S},layoutInner:function(e,t,i,n,o,a){var r=this.getContentGroup(),s=this.getSelectorGroup();l.box(e.get("orient"),r,e.get("itemGap"),i.width,i.height);var u=r.getBoundingRect(),d=[-u.x,-u.y];if(o){l.box("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),h=[-c.x,-c.y],g=e.get("selectorButtonGap",!0),p=e.getOrient().index,f=0===p?"width":"height",m=0===p?"height":"width",v=0===p?"y":"x";"end"===a?h[p]+=u[f]+g:d[p]+=c[f]+g,h[1-p]+=u[m]/2-c[m]/2,s.attr("position",h),r.attr("position",d);var y={x:0,y:0};return y[f]=u[f]+g+c[f],y[m]=Math.max(u[m],c[m]),y[v]=Math.min(0,c[v]+h[1-p]),y}return r.attr("position",d),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function g(e,t,i,n,o,a){var r;return"line"!==t&&t.indexOf("empty")<0?(r=i.getItemStyle(),e.style.stroke=n,a||(r.stroke=o)):r=i.getItemStyle(["borderWidth","borderColor"]),e.setStyle(r)}function p(e,t,i,n){m(e,t,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),f(e,t,i,n)}function f(e,t,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function m(e,t,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}e.exports=h},384:function(e,t,i){var n=i(272),o=i(273);e.exports=function(e,t){var i,a=[],r=e.seriesIndex;if(null==r||!(i=t.getSeriesByIndex(r)))return{point:[]};var s=i.getData(),l=o.queryDataIndex(s,e);if(null==l||l<0||n.isArray(l))return{point:[]};var u=s.getItemGraphicEl(l),d=i.coordinateSystem;if(i.getTooltipPosition)a=i.getTooltipPosition(l)||[];else if(d&&d.dataToPoint)a=d.dataToPoint(s.getValues(n.map(d.dimensions,(function(e){return s.mapDimension(e)})),l,!0))||[];else if(u){var c=u.getBoundingRect().clone();c.applyTransform(u.transform),a=[c.x+c.width/2,c.y+c.height/2]}return{point:a,el:u}}},385:function(e,t,i){var n=i(272),o=i(279),a=(0,i(273).makeInner)(),r=n.each;function s(e,t,i){e.handler("leave",null,i)}function l(e,t,i,n){t.handler(e,i,n)}t.register=function(e,t,i){if(!o.node){var u=t.getZr();a(u).records||(a(u).records={}),function(e,t){if(a(e).initialized)return;function i(i,n){e.on(i,(function(i){var o=function(e){var t={showTip:[],hideTip:[]},i=function(n){var o=t[n.type];o?o.push(n):(n.dispatchAction=i,e.dispatchAction(n))};return{dispatchAction:i,pendings:t}}(t);r(a(e).records,(function(e){e&&n(e,i,o.dispatchAction)})),function(e,t){var i,n=e.showTip.length,o=e.hideTip.length;n?i=e.showTip[n-1]:o&&(i=e.hideTip[o-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}(o.pendings,t)}))}a(e).initialized=!0,i("click",n.curry(l,"click")),i("mousemove",n.curry(l,"mousemove")),i("globalout",s)}(u,t),(a(u).records[e]||(a(u).records[e]={})).handler=i}},t.unregister=function(e,t){if(!o.node){var i=t.getZr();(a(i).records||{})[e]&&(a(i).records[e]=null)}}},386:function(e,t,i){var n=i(272),o=i(275),a=i(289),r=i(282),s=i(288),l=i(300),u=i(520);function d(e,t,i,n,o){var s=c(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),u=r.normalizeCssArray(l.get("padding")||0),d=l.getFont(),h=a.getBoundingRect(s,d),g=o.position,p=h.width+u[1]+u[3],f=h.height+u[0]+u[2],m=o.align;"right"===m&&(g[0]-=p),"center"===m&&(g[0]-=p/2);var v=o.verticalAlign;"bottom"===v&&(g[1]-=f),"middle"===v&&(g[1]-=f/2),function(e,t,i,n){var o=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+i,a)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(g,p,f,n);var y=l.get("backgroundColor");y&&"auto"!==y||(y=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:p,height:f,r:l.get("borderRadius")},position:g.slice(),style:{text:s,textFont:d,textFill:l.getTextColor(),textPosition:"inside",textPadding:u,fill:y,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function c(e,t,i,o,a){e=t.scale.parse(e);var r=t.scale.getLabel(e,{precision:a.precision}),s=a.formatter;if(s){var u={value:l.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};n.each(o,(function(e){var t=i.getSeriesByIndex(e.seriesIndex),n=e.dataIndexInside,o=t&&t.getDataParams(n);o&&u.seriesData.push(o)})),n.isString(s)?r=s.replace("{value}",r):n.isFunction(s)&&(r=s(u))}return r}function h(e,t,i){var n=s.create();return s.rotate(n,n,i.rotation),s.translate(n,n,i.position),o.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}t.buildElStyle=function(e){var t,i=e.get("type"),n=e.getModel(i+"Style");return"line"===i?(t=n.getLineStyle()).fill=null:"shadow"===i&&((t=n.getAreaStyle()).stroke=null),t},t.buildLabelElOption=d,t.getValueLabel=c,t.getTransformedPosition=h,t.buildCartesianSingleLabelElOption=function(e,t,i,n,o,a){var r=u.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),d(t,n,o,a,{position:h(n.axis,e,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})},t.makeLineShape=function(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}},t.makeRectShape=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},t.makeSectorShape=function(e,t,i,n,o,a){return{cx:e,cy:t,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}},478:function(e,t,i){var n=i(276);i(479),i(484),i(496);var o=i(499),a=i(500),r=i(501),s=i(502),l=i(503),u=i(504),d=i(505),c=i(507);n.registerProcessor(o),n.registerVisual(a("graph","circle",null)),n.registerVisual(r),n.registerVisual(s),n.registerLayout(l),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,u),n.registerLayout(d),n.registerCoordinateSystem("graphView",{create:c})},479:function(e,t,i){var n=i(276),o=i(307),a=i(272),r=i(273).defaultEmphasis,s=i(283),l=i(282).encodeHTML,u=i(480),d=i(483),c=i(309),h=c.initCurvenessList,g=c.createEdgeMapForCurveness,p=n.extendSeriesModel({type:"series.graph",init:function(e){p.superApply(this,"init",arguments);var t=this;function i(){return t._categoriesData}this.legendVisualProvider=new d(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){p.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){p.superApply(this,"mergeDefaultAndTheme",arguments),r(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var i=e.edges||e.links||[],n=e.data||e.nodes||[],o=this;if(n&&i){h(this);var r=u(n,i,this,!0,(function(e,i){e.wrapMethod("getItemModel",(function(e){var t=o._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=o.getModel("edgeLabel"),a=new s({label:n.option},n.parentModel,t),r=o.getModel("emphasis.edgeLabel"),l=new s({emphasis:{label:r.option}},r.parentModel,t);function u(e){return(e=this.parsePath(e))&&"label"===e[0]?a:e&&"emphasis"===e[0]&&"label"===e[1]?l:this.parentModel}i.wrapMethod("getItemModel",(function(e){return e.customizeGetParent(u),e}))}));return a.each(r.edges,(function(e){g(e.node1,e.node2,this,e.dataIndex)}),this),r.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(e,i),a=n.graph.getEdgeByIndex(e),r=n.getName(a.node1.dataIndex),s=n.getName(a.node2.dataIndex),u=[];return null!=r&&u.push(r),null!=s&&u.push(s),u=l(u.join(" > ")),o.value&&(u+=" : "+l(o.value)),u}return p.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=a.map(this.option.categories||[],(function(e){return null!=e.value?e:a.extend({value:0},e)})),t=new o(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e,!0)}))},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return p.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}}),f=p;e.exports=f},480:function(e,t,i){var n=i(272),o=i(307),a=i(481),r=i(482),s=i(325),l=i(321),u=i(372);e.exports=function(e,t,i,d,c){for(var h=new a(d),g=0;g<e.length;g++)h.addNode(n.retrieve(e[g].id,e[g].name,g),g);var p=[],f=[],m=0;for(g=0;g<t.length;g++){var v=t[g],y=v.source,x=v.target;h.addEdge(y,x,m)&&(f.push(v),p.push(n.retrieve(v.id,y+" > "+x)),m++)}var _,b=i.get("coordinateSystem");if("cartesian2d"===b||"polar"===b)_=u(e,i);else{var S=l.get(b),w=S&&"view"!==S.type&&S.dimensions||[];n.indexOf(w,"value")<0&&w.concat(["value"]);var I=s(e,{coordDimensions:w});(_=new o(I,i)).initData(e)}var T=new o(["value"],i);return T.initData(f,p),c&&c(_,T),r({mainData:_,struct:h,structAttr:"graph",datas:{node:_,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),h.update(),h}},481:function(e,t,i){i(278).__DEV__;var n=i(272),o=i(286).enableClassCheck;function a(e){return"_EC_"+e}var r=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=r.prototype;function l(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==t?-1:t}function u(e,t,i){this.node1=e,this.node2=t,this.dataIndex=null==i?-1:i}s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(e,t){e=null==e?""+t:""+e;var i=this._nodesMap;if(!i[a(e)]){var n=new l(e,t);return n.hostGraph=this,this.nodes.push(n),i[a(e)]=n,n}},s.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},s.getNodeById=function(e){return this._nodesMap[a(e)]},s.addEdge=function(e,t,i){var n=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),l.isInstance(e)||(e=n[a(e)]),l.isInstance(t)||(t=n[a(t)]),e&&t){var r=e.id+"-"+t.id,s=new u(e,t,i);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),o[r]=s,s}},s.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},s.getEdge=function(e,t){l.isInstance(e)&&(e=e.id),l.isInstance(t)&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},s.eachNode=function(e,t){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},s.eachEdge=function(e,t){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},s.breadthFirstTraverse=function(e,t,i,n){if(l.isInstance(t)||(t=this._nodesMap[a(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!e.call(n,t,null))for(var s=[t];s.length;){var u=s.shift(),d=u[o];for(r=0;r<d.length;r++){var c=d[r],h=c.node1===u?c.node2:c.node1;if(!h.__visited){if(e.call(n,h,u))return;s.push(h),h.__visited=!0}}}}},s.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,n=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o;t.filterSelf((function(e){var i=n[t.getRawIndex(e)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o},s.clone=function(){for(var e=new r(this._directed),t=this.nodes,i=this.edges,n=0;n<t.length;n++)e.addNode(t[n].id,t[n].dataIndex);for(n=0;n<i.length;n++){var o=i[n];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},u.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var d=function(e,t){return{getValue:function(i){var n=this[e][t];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[e][t].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};n.mixin(l,d("hostGraph","data")),n.mixin(u,d("hostGraph","edgeData")),r.Node=l,r.Edge=u,o(l),o(u);var c=r;e.exports=c},482:function(e,t,i){var n=i(272),o=n.each,a="\0__link_datas",r="\0__link_mainData";function s(e,t){if((o=this)[r]===o){var i=n.extend({},this[a]);i[this.dataType]=t,c(t,i,e)}else h(t,this.dataType,this[r],e);var o;return t}function l(e,t){return e.struct&&e.struct.update(this),t}function u(e,t){return o(t[a],(function(i,n){i!==t&&h(i.cloneShallow(),n,t,e)})),t}function d(e){var t=this[r];return null==e||null==t?t:t[a][e]}function c(e,t,i){e[a]={},o(t,(function(t,n){h(t,n,e,i)}))}function h(e,t,i,n){i[a][t]=e,e[r]=i,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=d}var g=function(e){var t=e.mainData,i=e.datas;i||(i={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,c(t,i,e),o(i,(function(i){o(t.TRANSFERABLE_METHODS,(function(t){i.wrapMethod(t,n.curry(s,e))}))})),t.wrapMethod("cloneShallow",n.curry(u,e)),o(t.CHANGABLE_METHODS,(function(i){t.wrapMethod(i,n.curry(l,e))})),n.assert(i[t.dataType]===t)};e.exports=g},483:function(e,t){var i=function(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){return t().indexOfName(e)>=0},this.indexOfName=function(t){return e().indexOfName(t)},this.getItemVisual=function(t,i){return e().getItemVisual(t,i)}};e.exports=i},484:function(e,t,i){var n=i(276),o=i(272),a=i(485),r=i(488),s=i(491),l=i(493),u=i(494).onIrrelevantElement,d=i(275),c=i(495),h=i(328).getNodeGlobalScale,g="__focusNodeAdjacency",p=["itemStyle","opacity"],f=["lineStyle","opacity"];function m(e,t){var i=e.getVisual("opacity");return null!=i?i:e.getModel().get(t)}function v(e,t,i){var n=e.getGraphicEl(),o=m(e,t);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse((function(e){if(!e.isGroup){var t=e.lineLabelOriginalOpacity;null!=t&&null==i||(t=o),e.setStyle("opacity",t)}}))}function y(e,t){var i=m(e,t),n=e.getGraphicEl();n.traverse((function(e){!e.isGroup&&e.setStyle("opacity",i)})),n.highlight&&n.highlight()}var x=n.extendChartView({type:"graph",init:function(e,t){var i=new a,n=new r,o=this.group;this._controller=new s(t.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(e,t,i){var n=this,o=e.coordinateSystem;this._model=e;var a=this._symbolDraw,r=this._lineDraw,s=this.group;if("view"===o.type){var l={position:o.position,scale:o.scale};this._firstRender?s.attr(l):d.updateProps(s,l,e)}c(e.getGraph(),h(e));var u=e.getData();a.updateData(u);var p=e.getEdgeData();r.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,t,i),clearTimeout(this._layoutTimeout);var f=e.forceLayout,m=e.get("force.layoutAnimation");f&&this._startForceLayoutIteration(f,m),u.eachItemGraphicEl((function(t,o){var a=u.getItemModel(o);t.off("drag").off("dragend");var r=a.get("draggable");r&&t.on("drag",(function(){f&&(f.warmUp(),!this._layouting&&this._startForceLayoutIteration(f,m),f.setFixed(o),u.setItemLayout(o,t.position))}),this).on("dragend",(function(){f&&f.setUnfixed(o)}),this),t.setDraggable(r&&f),t[g]&&t.off("mouseover",t[g]),t.__unfocusNodeAdjacency&&t.off("mouseout",t.__unfocusNodeAdjacency),a.get("focusNodeAdjacency")&&(t.on("mouseover",t[g]=function(){n._clearTimer(),i.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){n._dispatchUnfocus(i)}))}),this),u.graph.eachEdge((function(t){var o=t.getGraphicEl();o[g]&&o.off("mouseover",o[g]),o.__unfocusNodeAdjacency&&o.off("mouseout",o.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")&&(o.on("mouseover",o[g]=function(){n._clearTimer(),i.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),o.on("mouseout",o.__unfocusNodeAdjacency=function(){n._dispatchUnfocus(i)}))}));var v="circular"===e.get("layout")&&e.get("circular.rotateLabel"),y=u.getLayout("cx"),x=u.getLayout("cy");u.eachItemGraphicEl((function(e,t){var i=u.getItemModel(t).get("label.rotate")||0,n=e.getSymbolPath();if(v){var o=u.getItemLayout(t),a=Math.atan2(o[1]-x,o[0]-y);a<0&&(a=2*Math.PI+a);var r=o[0]<y;r&&(a-=Math.PI);var s=r?"left":"right";d.modifyLabelStyle(n,{textRotation:-a,textPosition:s,textOrigin:"center"},{textPosition:s})}else d.modifyLabelStyle(n,{textRotation:i*=Math.PI/180})})),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,t){var i=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout((function(){i._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:i._model.id})}),500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,i,n){var a=e.getData().graph,r=n.dataIndex,s=n.edgeDataIndex,l=a.getNodeByIndex(r),u=a.getEdgeByIndex(s);(l||u)&&(a.eachNode((function(e){v(e,p,.1)})),a.eachEdge((function(e){v(e,f,.1)})),l&&(y(l,p),o.each(l.edges,(function(e){e.dataIndex<0||(y(e,f),y(e.node1,p),y(e.node2,p))}))),u&&(y(u,f),y(u.node1,p),y(u.node2,p)))},unfocusNodeAdjacency:function(e,t,i,n){var o=e.getData().graph;o.eachNode((function(e){v(e,p)})),o.eachEdge((function(e){v(e,f)}))},_startForceLayoutIteration:function(e,t){var i=this;!function n(){e.step((function(e){i.updateLayout(i._model),(i._layouting=!e)&&(t?i._layoutTimeout=setTimeout(n,16):n())}))}()},_updateController:function(e,t,i){var n=this._controller,o=this._controllerHost,a=this.group;n.setPointerChecker((function(t,n,o){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(n,o)&&!u(t,i,e)})),"view"===e.coordinateSystem.type?(n.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",(function(t){l.updateViewOnPan(o,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){l.updateViewOnZoom(o,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),c(e.getGraph(),h(e)),this._lineDraw.updateLayout()}),this)):n.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),i=h(e),n=[i,i];t.eachItemGraphicEl((function(e,t){e.attr("scale",n)}))},updateLayout:function(e){c(e.getGraph(),h(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});e.exports=x},485:function(e,t,i){var n=i(275),o=i(486),a=i(272).isObject;function r(e){this.group=new n.Group,this._symbolCtor=e||o}var s=r.prototype;function l(e,t,i,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(i,"symbol")}function u(e){return null==e||a(e)||(e={isIgnore:e}),e||{}}function d(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}s.updateData=function(e,t){t=u(t);var i=this.group,o=e.hostModel,a=this._data,r=this._symbolCtor,s=d(e);a||i.removeAll(),e.diff(a).add((function(n){var o=e.getItemLayout(n);if(l(e,o,n,t)){var a=new r(e,n,s);a.attr("position",o),e.setItemGraphicEl(n,a),i.add(a)}})).update((function(u,d){var c=a.getItemGraphicEl(d),h=e.getItemLayout(u);l(e,h,u,t)?(c?(c.updateData(e,u,s),n.updateProps(c,{position:h},o)):(c=new r(e,u)).attr("position",h),i.add(c),e.setItemGraphicEl(u,c)):i.remove(c)})).remove((function(e){var t=a.getItemGraphicEl(e);t&&t.fadeOut((function(){i.remove(t)}))})).execute(),this._data=e},s.isPersistent=function(){return!0},s.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,i){var n=e.getItemLayout(i);t.attr("position",n)}))},s.incrementalPrepareUpdate=function(e){this._seriesScope=d(e),this._data=null,this.group.removeAll()},s.incrementalUpdate=function(e,t,i){function n(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}i=u(i);for(var o=e.start;o<e.end;o++){var a=t.getItemLayout(o);if(l(t,a,o,i)){var r=new this._symbolCtor(t,o,this._seriesScope);r.traverse(n),r.attr("position",a),this.group.add(r),t.setItemGraphicEl(o,r)}}},s.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var c=r;e.exports=c},486:function(e,t,i){var n=i(272),o=i(301).createSymbol,a=i(275),r=i(277).parsePercent,s=i(487).getDefaultLabel;function l(e,t,i){a.Group.call(this),this.updateData(e,t,i)}var u=l.prototype,d=l.getSymbolSize=function(e,t){var i=e.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function c(e){return[e[0]/2,e[1]/2]}function h(e,t){this.parent.drift(e,t)}u._createSymbol=function(e,t,i,n,a){this.removeAll();var r=t.getItemVisual(i,"color"),s=o(e,-1,-1,2,2,r,a);s.attr({z2:100,culling:!0,scale:c(n)}),s.drift=h,this._symbolType=e,this.add(s)},u.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},u.getSymbolPath=function(){return this.childAt(0)},u.getScale=function(){return this.childAt(0).scale},u.highlight=function(){this.childAt(0).trigger("emphasis")},u.downplay=function(){this.childAt(0).trigger("normal")},u.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},u.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},u.updateData=function(e,t,i){this.silent=!1;var n=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,r=d(e,t),s=n!==this._symbolType;if(s){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(n,e,t,r,l)}else{(u=this.childAt(0)).silent=!1,a.updateProps(u,{scale:c(r)},o,t)}if(this._updateCommon(e,t,r,i),s){var u=this.childAt(0),h=i&&i.fadeIn,g={scale:u.scale.slice()};h&&(g.style={opacity:u.style.opacity}),u.scale=[0,0],h&&(u.style.opacity=0),a.initProps(u,g,o,t)}this._seriesModel=o};var g=["itemStyle"],p=["emphasis","itemStyle"],f=["label"],m=["emphasis","label"];function v(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var i=this.__symbolOriginalScale,n=i[1]/i[0],o={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*n)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}u._updateCommon=function(e,t,i,o){var l=this.childAt(0),u=e.hostModel,d=e.getItemVisual(t,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var h=o&&o.itemStyle,y=o&&o.hoverItemStyle,x=o&&o.symbolOffset,_=o&&o.labelModel,b=o&&o.hoverLabelModel,S=o&&o.hoverAnimation,w=o&&o.cursorStyle;if(!o||e.hasItemOption){var I=o&&o.itemModel?o.itemModel:e.getItemModel(t);h=I.getModel(g).getItemStyle(["color"]),y=I.getModel(p).getItemStyle(),x=I.getShallow("symbolOffset"),_=I.getModel(f),b=I.getModel(m),S=I.getShallow("hoverAnimation"),w=I.getShallow("cursor")}else y=n.extend({},y);var T=l.style,M=e.getItemVisual(t,"symbolRotate");l.attr("rotation",(M||0)*Math.PI/180||0),x&&l.attr("position",[r(x[0],i[0]),r(x[1],i[1])]),w&&l.attr("cursor",w),l.setColor(d,o&&o.symbolInnerColor),l.setStyle(h);var A=e.getItemVisual(t,"opacity");null!=A&&(T.opacity=A);var C=e.getItemVisual(t,"liftZ"),D=l.__z2Origin;null!=C?null==D&&(l.__z2Origin=l.z2,l.z2+=C):null!=D&&(l.z2=D,l.__z2Origin=null);var L=o&&o.useNameLabel;a.setLabelStyle(T,y,_,b,{labelFetcher:u,labelDataIndex:t,defaultText:function(t,i){return L?e.getName(t):s(e,t)},isRectText:!0,autoColor:d}),l.__symbolOriginalScale=c(i),l.hoverStyle=y,l.highDownOnUpdate=S&&u.isAnimationEnabled()?v:null,a.setHoverStyle(l)},u.fadeOut=function(e,t){var i=this.childAt(0);this.silent=i.silent=!0,(!t||!t.keepLabel)&&(i.style.text=null),a.updateProps(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},n.inherits(l,a.Group);var y=l;e.exports=y},487:function(e,t,i){var n=i(299).retrieveRawValue;t.getDefaultLabel=function(e,t){var i=e.mapDimension("defaultedLabel",!0),o=i.length;if(1===o)return n(e,t,i[0]);if(o){for(var a=[],r=0;r<i.length;r++){var s=n(e,t,i[r]);a.push(s)}return a.join(" ")}}},488:function(e,t,i){var n=i(275),o=i(489);function a(e){this._ctor=e||o,this.group=new n.Group}var r=a.prototype;function s(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function l(e){return isNaN(e[0])||isNaN(e[1])}function u(e){return!l(e[0])&&!l(e[1])}r.isPersistent=function(){return!0},r.updateData=function(e){var t=this,i=t.group,n=t._lineData;t._lineData=e,n||i.removeAll();var o=s(e);e.diff(n).add((function(i){!function(e,t,i,n){if(!u(t.getItemLayout(i)))return;var o=new e._ctor(t,i,n);t.setItemGraphicEl(i,o),e.group.add(o)}(t,e,i,o)})).update((function(i,a){!function(e,t,i,n,o,a){var r=t.getItemGraphicEl(n);if(!u(i.getItemLayout(o)))return void e.group.remove(r);r?r.updateData(i,o,a):r=new e._ctor(i,o,a);i.setItemGraphicEl(o,r),e.group.add(r)}(t,n,e,a,i,o)})).remove((function(e){i.remove(n.getItemGraphicEl(e))})).execute()},r.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,i){t.updateLayout(e,i)}),this)},r.incrementalPrepareUpdate=function(e){this._seriesScope=s(e),this._lineData=null,this.group.removeAll()},r.incrementalUpdate=function(e,t){function i(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=e.useHoverLayer=!0)}for(var n=e.start;n<e.end;n++){if(u(t.getItemLayout(n))){var o=new this._ctor(t,n,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(n,o)}}},r.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},r._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()};var d=a;e.exports=d},489:function(e,t,i){var n=i(272),o=i(274),a=i(301),r=i(490),s=i(275),l=i(277).round,u=["fromSymbol","toSymbol"];function d(e){return"_"+e+"Type"}function c(e,t,i){var o=t.getItemVisual(i,e);if(o&&"none"!==o){var r=t.getItemVisual(i,"color"),s=t.getItemVisual(i,e+"Size"),l=t.getItemVisual(i,e+"Rotate");n.isArray(s)||(s=[s,s]);var u=a.createSymbol(o,-s[0]/2,-s[1]/2,s[0],s[1],r);return u.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,u.name=e,u}}function h(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}function g(e,t,i){s.Group.call(this),this._createLine(e,t,i)}var p=g.prototype;p.beforeUpdate=function(){var e=this.childOfName("fromSymbol"),t=this.childOfName("toSymbol"),i=this.childOfName("label");if(e||t||!i.ignore){for(var n=1,a=this.parent;a;)a.scale&&(n/=a.scale[0]),a=a.parent;var r=this.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),u=r.pointAt(s),d=o.sub([],u,l);if(o.normalize(d,d),e){if(e.attr("position",l),null==(h=e.__specifiedRotation)){var c=r.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(c[1],c[0]))}else e.attr("rotation",h);e.attr("scale",[n*s,n*s])}if(t){var h;if(t.attr("position",u),null==(h=t.__specifiedRotation)){c=r.tangentAt(1);t.attr("rotation",-Math.PI/2-Math.atan2(c[1],c[0]))}else t.attr("rotation",h);t.attr("scale",[n*s,n*s])}if(!i.ignore){var g,p,f,m;i.attr("position",u);var v=i.__labelDistance,y=v[0]*n,x=v[1]*n,_=s/2,b=[(c=r.tangentAt(_))[1],-c[0]],S=r.pointAt(_);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var w,I=c[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var T=-Math.atan2(c[1],c[0]);u[0]<l[0]&&(T=Math.PI+T),i.attr("rotation",T)}switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-x,f="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=x,f="top";break;default:w=0,f="middle"}switch(i.__position){case"end":g=[d[0]*y+u[0],d[1]*x+u[1]],p=d[0]>.8?"left":d[0]<-.8?"right":"center",f=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":g=[-d[0]*y+l[0],-d[1]*x+l[1]],p=d[0]>.8?"right":d[0]<-.8?"left":"center",f=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":g=[y*I+l[0],l[1]+w],p=c[0]<0?"right":"left",m=[-y*I,-w];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":g=[S[0],S[1]+w],p="center",m=[0,-w];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":g=[-y*I+u[0],u[1]+w],p=c[0]>=0?"right":"left",m=[y*I,-w]}i.attr({style:{textVerticalAlign:i.__verticalAlign||f,textAlign:i.__textAlign||p},position:g,scale:[n,n],origin:m})}}}},p._createLine=function(e,t,i){var o=e.hostModel,a=function(e){var t=new r({name:"line",subPixelOptimize:!0});return h(t.shape,e),t}(e.getItemLayout(t));a.shape.percent=0,s.initProps(a,{shape:{percent:1}},o,t),this.add(a);var l=new s.Text({name:"label",lineLabelOriginalOpacity:1});this.add(l),n.each(u,(function(i){var n=c(i,e,t);this.add(n),this[d(i)]=e.getItemVisual(t,i)}),this),this._updateCommonStl(e,t,i)},p.updateData=function(e,t,i){var o=e.hostModel,a=this.childOfName("line"),r=e.getItemLayout(t),l={shape:{}};h(l.shape,r),s.updateProps(a,l,o,t),n.each(u,(function(i){var n=e.getItemVisual(t,i),o=d(i);if(this[o]!==n){this.remove(this.childOfName(i));var a=c(i,e,t);this.add(a)}this[o]=n}),this),this._updateCommonStl(e,t,i)},p._updateCommonStl=function(e,t,i){var o=e.hostModel,a=this.childOfName("line"),r=i&&i.lineStyle,d=i&&i.hoverLineStyle,c=i&&i.labelModel,h=i&&i.hoverLabelModel;if(!i||e.hasItemOption){var g=e.getItemModel(t);r=g.getModel("lineStyle").getLineStyle(),d=g.getModel("emphasis.lineStyle").getLineStyle(),c=g.getModel("label"),h=g.getModel("emphasis.label")}var p=e.getItemVisual(t,"color"),f=n.retrieve3(e.getItemVisual(t,"opacity"),r.opacity,1);a.useStyle(n.defaults({strokeNoScale:!0,fill:"none",stroke:p,opacity:f},r)),a.hoverStyle=d,n.each(u,(function(e){var t=this.childOfName(e);t&&(t.setColor(p),t.setStyle({opacity:f}))}),this);var m,v,y=c.getShallow("show"),x=h.getShallow("show"),_=this.childOfName("label");if((y||x)&&(m=p||"#000",null==(v=o.getFormattedLabel(t,"normal",e.dataType)))){var b=o.getRawValue(t);v=null==b?e.getName(t):isFinite(b)?l(b):b}var S=y?v:null,w=x?n.retrieve2(o.getFormattedLabel(t,"emphasis",e.dataType),v):null,I=_.style;if(null!=S||null!=w){s.setTextStyle(_.style,c,{text:S},{autoColor:m}),_.__textAlign=I.textAlign,_.__verticalAlign=I.textVerticalAlign,_.__position=c.get("position")||"middle";var T=c.get("distance");n.isArray(T)||(T=[T,T]),_.__labelDistance=T}_.hoverStyle=null!=w?{text:w,textFill:h.getTextColor(!0),fontStyle:h.getShallow("fontStyle"),fontWeight:h.getShallow("fontWeight"),fontSize:h.getShallow("fontSize"),fontFamily:h.getShallow("fontFamily")}:{text:null},_.ignore=!y&&!x,s.setHoverStyle(this)},p.highlight=function(){this.trigger("emphasis")},p.downplay=function(){this.trigger("normal")},p.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},p.setLinePoints=function(e){var t=this.childOfName("line");h(t.shape,e),t.dirty()},n.inherits(g,s.Group);var f=g;e.exports=f},490:function(e,t,i){var n=i(275),o=i(274),a=n.Line.prototype,r=n.BezierCurve.prototype;function s(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var l=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[s(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:a.buildPath,_buildPathCurve:r.buildPath,pointAt:function(e){return this[s(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:a.pointAt,_pointAtCurve:r.pointAt,tangentAt:function(e){var t=this.shape,i=s(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return o.normalize(i,i)},_tangentAtCurve:r.tangentAt});e.exports=l},491:function(e,t,i){var n=i(272),o=i(292),a=i(290),r=i(492);function s(e){this.pointerChecker,this._zr=e,this._opt={};var t=n.bind,i=t(l,this),a=t(u,this),r=t(d,this),s=t(c,this),g=t(h,this);o.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,o){this.disable(),this._opt=n.defaults(n.clone(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",r)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",s),e.on("pinch",g))},this.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",r),e.off("mousewheel",s),e.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(e){if(!(a.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function u(e){if(this._dragging&&f("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!r.isTaken(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,n=this._x,o=this._y,s=t-n,l=i-o;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&a.stop(e.event),p(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:n,oldY:o,newX:t,newY:i})}}function d(e){a.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function c(e){var t=f("zoomOnMouseWheel",e,this._opt),i=f("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),a=e.offsetX,r=e.offsetY;if(0!==n&&(t||i)){if(t){var s=o>3?1.4:o>1?1.2:1.1;g(this,"zoom","zoomOnMouseWheel",e,{scale:n>0?s:1/s,originX:a,originY:r})}if(i){var l=Math.abs(n);g(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(n>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:a,originY:r})}}}function h(e){r.isTaken(this._zr,"globalPan")||g(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function g(e,t,i,n,o){e.pointerChecker&&e.pointerChecker(n,o.originX,o.originY)&&(a.stop(n.event),p(e,t,i,n,o))}function p(e,t,i,o,a){a.isAvailableBehavior=n.bind(f,null,i,o),e.trigger(t,a)}function f(e,t,i){var o=i[e];return!e||o&&(!n.isString(o)||t.event[o+"Key"])}n.mixin(s,o);var m=s;e.exports=m},492:function(e,t,i){var n=i(276),o="\0_ec_interaction_mutex";function a(e){return e[o]||(e[o]={})}n.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),t.take=function(e,t,i){a(e)[t]=i},t.release=function(e,t,i){var n=a(e);n[t]===i&&(n[t]=null)},t.isTaken=function(e,t){return!!a(e)[t]}},493:function(e,t){t.updateViewOnPan=function(e,t,i){var n=e.target,o=n.position;o[0]+=t,o[1]+=i,n.dirty()},t.updateViewOnZoom=function(e,t,i,n){var o=e.target,a=e.zoomLimit,r=o.position,s=o.scale,l=e.zoom=e.zoom||1;if(l*=t,a){var u=a.min||0,d=a.max||1/0;l=Math.max(Math.min(d,l),u)}var c=l/e.zoom;e.zoom=l,r[0]-=(i-r[0])*(c-1),r[1]-=(n-r[1])*(c-1),s[0]*=c,s[1]*=c,o.dirty()}},494:function(e,t){var i={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=function(e,t,n){var o=t.getComponentByElement(e.topTarget),a=o&&o.coordinateSystem;return o&&o!==n&&!i[o.mainType]&&a&&a.model!==n}},495:function(e,t,i){var n=i(291),o=i(274),a=i(328).getSymbolSize,r=[],s=[],l=[],u=n.quadraticAt,d=o.distSquare,c=Math.abs;function h(e,t,i){for(var n,o=e[0],a=e[1],h=e[2],g=1/0,p=i*i,f=.1,m=.1;m<=.9;m+=.1){r[0]=u(o[0],a[0],h[0],m),r[1]=u(o[1],a[1],h[1],m),(x=c(d(r,t)-p))<g&&(g=x,n=m)}for(var v=0;v<32;v++){var y=n+f;s[0]=u(o[0],a[0],h[0],n),s[1]=u(o[1],a[1],h[1],n),l[0]=u(o[0],a[0],h[0],y),l[1]=u(o[1],a[1],h[1],y);var x=d(s,t)-p;if(c(x)<.01)break;var _=d(l,t)-p;f/=2,x<0?_>=0?n+=f:n-=f:_>=0?n-=f:n+=f}return n}e.exports=function(e,t){var i=[],r=n.quadraticSubdivide,s=[[],[],[]],l=[[],[]],u=[];t/=2,e.eachEdge((function(e,n){var d=e.getLayout(),c=e.getVisual("fromSymbol"),g=e.getVisual("toSymbol");d.__original||(d.__original=[o.clone(d[0]),o.clone(d[1])],d[2]&&d.__original.push(o.clone(d[2])));var p=d.__original;if(null!=d[2]){if(o.copy(s[0],p[0]),o.copy(s[1],p[2]),o.copy(s[2],p[1]),c&&"none"!==c){var f=a(e.node1),m=h(s,p[0],f*t);r(s[0][0],s[1][0],s[2][0],m,i),s[0][0]=i[3],s[1][0]=i[4],r(s[0][1],s[1][1],s[2][1],m,i),s[0][1]=i[3],s[1][1]=i[4]}if(g&&"none"!==g){f=a(e.node2),m=h(s,p[1],f*t);r(s[0][0],s[1][0],s[2][0],m,i),s[1][0]=i[1],s[2][0]=i[2],r(s[0][1],s[1][1],s[2][1],m,i),s[1][1]=i[1],s[2][1]=i[2]}o.copy(d[0],s[0]),o.copy(d[1],s[2]),o.copy(d[2],s[1])}else{if(o.copy(l[0],p[0]),o.copy(l[1],p[1]),o.sub(u,l[1],l[0]),o.normalize(u,u),c&&"none"!==c){f=a(e.node1);o.scaleAndAdd(l[0],l[0],u,f*t)}if(g&&"none"!==g){f=a(e.node2);o.scaleAndAdd(l[1],l[1],u,-f*t)}o.copy(d[0],l[0]),o.copy(d[1],l[1])}}))}},496:function(e,t,i){var n=i(276),o=i(497).updateCenterAndZoom;i(498);n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",query:e},(function(t){var i=t.coordinateSystem,n=o(i,e);t.setCenter&&t.setCenter(n.center),t.setZoom&&t.setZoom(n.zoom)}))}))},497:function(e,t){t.updateCenterAndZoom=function(e,t,i){var n=e.getZoom(),o=e.getCenter(),a=t.zoom,r=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy){r[0]-=t.dx,r[1]-=t.dy;o=e.pointToData(r);e.setCenter(o)}if(null!=a){if(i){var s=i.min||0,l=i.max||1/0;a=Math.max(Math.min(n*a,l),s)/n}e.scale[0]*=a,e.scale[1]*=a;var u=e.position,d=(t.originX-u[0])*(a-1),c=(t.originY-u[1])*(a-1);u[0]-=d,u[1]-=c,e.updateTransform();o=e.pointToData(r);e.setCenter(o),e.setZoom(a*n)}return{center:e.getCenter(),zoom:e.getZoom()}}},498:function(e,t,i){var n=i(276);n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){}))},499:function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.eachSeriesByType("graph",(function(e){var i=e.getCategoriesData(),n=e.getGraph().data,o=i.mapArray(i.getName);n.filterSelf((function(e){var i=n.getItemModel(e).getShallow("category");if(null!=i){"number"==typeof i&&(i=o[i]);for(var a=0;a<t.length;a++)if(!t[a].isSelected(i))return!1}return!0}))}),this)}},500:function(e,t,i){var n=i(272).isFunction;e.exports=function(e,t,i){return{seriesType:e,performRawSeries:!0,reset:function(e,o,a){var r=e.getData(),s=e.get("symbol"),l=e.get("symbolSize"),u=e.get("symbolKeepAspect"),d=e.get("symbolRotate"),c=n(s),h=n(l),g=n(d),p=c||h||g,f=!c&&s?s:t,m=h?null:l;if(r.setVisual({legendSymbol:i||f,symbol:f,symbolSize:m,symbolKeepAspect:u,symbolRotate:d}),!o.isSeriesFiltered(e))return{dataEach:r.hasItemOption||p?function(t,i){if(p){var n=e.getRawValue(i),o=e.getDataParams(i);c&&t.setItemVisual(i,"symbol",s(n,o)),h&&t.setItemVisual(i,"symbolSize",l(n,o)),g&&t.setItemVisual(i,"symbolRotate",d(n,o))}if(t.hasItemOption){var a=t.getItemModel(i),r=a.getShallow("symbol",!0),u=a.getShallow("symbolSize",!0),f=a.getShallow("symbolRotate",!0),m=a.getShallow("symbolKeepAspect",!0);null!=r&&t.setItemVisual(i,"symbol",r),null!=u&&t.setItemVisual(i,"symbolSize",u),null!=f&&t.setItemVisual(i,"symbolRotate",f),null!=m&&t.setItemVisual(i,"symbolKeepAspect",m)}}:null}}}}},501:function(e,t){e.exports=function(e){var t={};e.eachSeriesByType("graph",(function(e){var i=e.getCategoriesData(),n=e.getData(),o={};i.each((function(n){var a=i.getName(n);o["ec-"+a]=n;var r=i.getItemModel(n),s=r.get("itemStyle.color")||e.getColorFromPalette(a,t);i.setItemVisual(n,"color",s);for(var l=["opacity","symbol","symbolSize","symbolKeepAspect"],u=0;u<l.length;u++){var d=r.getShallow(l[u],!0);null!=d&&i.setItemVisual(n,l[u],d)}})),i.count()&&n.each((function(e){var t=n.getItemModel(e).getShallow("category");if(null!=t){"string"==typeof t&&(t=o["ec-"+t]);for(var a=["color","opacity","symbol","symbolSize","symbolKeepAspect"],r=0;r<a.length;r++)null==n.getItemVisual(e,a[r],!0)&&n.setItemVisual(e,a[r],i.getItemVisual(t,a[r]))}}))}))}},502:function(e,t){function i(e){return e instanceof Array||(e=[e,e]),e}e.exports=function(e){e.eachSeriesByType("graph",(function(e){var t=e.getGraph(),n=e.getEdgeData(),o=i(e.get("edgeSymbol")),a=i(e.get("edgeSymbolSize")),r="lineStyle.color".split("."),s="lineStyle.opacity".split(".");n.setVisual("fromSymbol",o&&o[0]),n.setVisual("toSymbol",o&&o[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("color",e.get(r)),n.setVisual("opacity",e.get(s)),n.each((function(e){var o=n.getItemModel(e),a=t.getEdgeByIndex(e),l=i(o.getShallow("symbol",!0)),u=i(o.getShallow("symbolSize",!0)),d=o.get(r),c=o.get(s);switch(d){case"source":d=a.node1.getVisual("color");break;case"target":d=a.node2.getVisual("color")}l[0]&&a.setVisual("fromSymbol",l[0]),l[1]&&a.setVisual("toSymbol",l[1]),u[0]&&a.setVisual("fromSymbolSize",u[0]),u[1]&&a.setVisual("toSymbolSize",u[1]),a.setVisual("color",d),a.setVisual("opacity",c)}))}))}},503:function(e,t,i){var n=i(272).each,o=i(379),a=o.simpleLayout,r=o.simpleLayoutEdge;e.exports=function(e,t){e.eachSeriesByType("graph",(function(e){var t=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var o=e.getData(),s=[];n(i.dimensions,(function(e){s=s.concat(o.mapDimension(e,!0))}));for(var l=0;l<o.count();l++){for(var u=[],d=!1,c=0;c<s.length;c++){var h=o.get(s[c],l);isNaN(h)||(d=!0),u.push(h)}d?o.setItemLayout(l,i.dataToPoint(u)):o.setItemLayout(l,[NaN,NaN])}r(o.graph,e)}else t&&"none"!==t||a(e)}))}},504:function(e,t,i){var n=i(380).circularLayout;e.exports=function(e){e.eachSeriesByType("graph",(function(e){"circular"===e.get("layout")&&n(e,"symbolSize")}))}},505:function(e,t,i){var n=i(506).forceLayout,o=i(379).simpleLayout,a=i(380).circularLayout,r=i(277).linearMap,s=i(274),l=i(272),u=i(309).getCurvenessForEdge;e.exports=function(e){e.eachSeriesByType("graph",(function(e){if(!(y=e.coordinateSystem)||"view"===y.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},i=e.getGraph(),d=i.data,c=i.edgeData,h=e.getModel("force"),g=h.get("initLayout");e.preservedPoints?d.each((function(e){var i=d.getId(e);d.setItemLayout(e,t[i]||[NaN,NaN])})):g&&"none"!==g?"circular"===g&&a(e,"value"):o(e);var p=d.getDataExtent("value"),f=c.getDataExtent("value"),m=h.get("repulsion"),v=h.get("edgeLength");l.isArray(m)||(m=[m,m]),l.isArray(v)||(v=[v,v]),v=[v[1],v[0]];var y,x=d.mapArray("value",(function(e,t){var i=d.getItemLayout(t),n=r(e,p,m);return isNaN(n)&&(n=(m[0]+m[1])/2),{w:n,rep:n,fixed:d.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}})),_=c.mapArray("value",(function(t,n){var o=i.getEdgeByIndex(n),a=r(t,f,v);isNaN(a)&&(a=(v[0]+v[1])/2);var s=o.getModel(),d=l.retrieve3(s.get("lineStyle.curveness"),-u(o,e,n,!0),0);return{n1:x[o.node1.dataIndex],n2:x[o.node2.dataIndex],d:a,curveness:d,ignoreForceLayout:s.get("ignoreForceLayout")}})),b=(y=e.coordinateSystem).getBoundingRect(),S=n(x,_,{rect:b,gravity:h.get("gravity"),friction:h.get("friction")}),w=S.step;S.step=function(e){for(var n=0,o=x.length;n<o;n++)x[n].fixed&&s.copy(x[n].p,i.getNodeByIndex(n).getLayout());w((function(n,o,a){for(var r=0,l=n.length;r<l;r++)n[r].fixed||i.getNodeByIndex(r).setLayout(n[r].p),t[d.getId(r)]=n[r].p;for(r=0,l=o.length;r<l;r++){var u=o[r],c=i.getEdgeByIndex(r),h=u.n1.p,g=u.n2.p,p=c.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],s.copy(p[0],h),s.copy(p[1],g),+u.curveness&&(p[2]=[(h[0]+g[0])/2-(h[1]-g[1])*u.curveness,(h[1]+g[1])/2-(g[0]-h[0])*u.curveness]),c.setLayout(p)}e&&e(a)}))},e.forceLayout=S,e.preservedPoints=t,S.step()}else e.forceLayout=null}))}},506:function(e,t,i){var n=i(274),o=n.scaleAndAdd;t.forceLayout=function(e,t,i){for(var a=i.rect,r=a.width,s=a.height,l=[a.x+r/2,a.y+s/2],u=null==i.gravity?.1:i.gravity,d=0;d<e.length;d++){var c=e[d];c.p||(c.p=n.create(r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),c.pp=n.clone(c.p),c.edges=null}var h=null==i.friction?.6:i.friction,g=h;return{warmUp:function(){g=.8*h},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(i){for(var a=[],r=e.length,s=0;s<t.length;s++){var d=t[s];if(!d.ignoreForceLayout){var c=d.n1,h=d.n2;n.sub(a,h.p,c.p);var p=n.len(a)-d.d,f=h.w/(c.w+h.w);isNaN(f)&&(f=0),n.normalize(a,a),!c.fixed&&o(c.p,c.p,a,f*p*g),!h.fixed&&o(h.p,h.p,a,-(1-f)*p*g)}}for(s=0;s<r;s++){(x=e[s]).fixed||(n.sub(a,l,x.p),o(x.p,x.p,a,u*g))}for(s=0;s<r;s++){c=e[s];for(var m=s+1;m<r;m++){h=e[m];n.sub(a,h.p,c.p),0===(p=n.len(a))&&(n.set(a,Math.random()-.5,Math.random()-.5),p=1);var v=(c.rep+h.rep)/p/p;!c.fixed&&o(c.pp,c.pp,a,v),!h.fixed&&o(h.pp,h.pp,a,-v)}}var y=[];for(s=0;s<r;s++){var x;(x=e[s]).fixed||(n.sub(y,x.p,x.pp),o(x.p,x.p,y,g),n.copy(x.pp,x.p))}g*=.992,i&&i(e,t,g<.01)}}}},507:function(e,t,i){var n=i(508),o=i(284).getLayoutRect,a=i(317);e.exports=function(e,t){var i=[];return e.eachSeriesByType("graph",(function(e){var r=e.get("coordinateSystem");if(!r||"view"===r){var s=e.getData(),l=s.mapArray((function(e){var t=s.getItemModel(e);return[+t.get("x"),+t.get("y")]})),u=[],d=[];a.fromPoints(l,u,d),d[0]-u[0]==0&&(d[0]+=1,u[0]-=1),d[1]-u[1]==0&&(d[1]+=1,u[1]-=1);var c=(d[0]-u[0])/(d[1]-u[1]),h=function(e,t,i){var n=e.getBoxLayoutParams();return n.aspect=i,o(n,{width:t.getWidth(),height:t.getHeight()})}(e,t,c);isNaN(c)&&(u=[h.x,h.y],d=[h.x+h.width,h.y+h.height]);var g=d[0]-u[0],p=d[1]-u[1],f=h.width,m=h.height,v=e.coordinateSystem=new n;v.zoomLimit=e.get("scaleLimit"),v.setBoundingRect(u[0],u[1],g,p),v.setViewRect(h.x,h.y,f,m),v.setCenter(e.get("center")),v.setZoom(e.get("zoom")),i.push(v)}})),i}},508:function(e,t,i){var n=i(272),o=i(274),a=i(288),r=i(281),s=i(311),l=o.applyTransform;function u(){s.call(this)}function d(e){this.name=e,this.zoomLimit,s.call(this),this._roamTransformable=new u,this._rawTransformable=new u,this._center,this._zoom}function c(e,t,i,n){var o=i.seriesModel,a=o?o.coordinateSystem:null;return a===this?a[e](n):null}n.mixin(u,s),d.prototype={constructor:d,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,i,n){return this._rect=new r(e,t,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,i,n){this.transformTo(e,t,i,n),this._viewRect=new r(e,t,i,n)},transformTo:function(e,t,i,n){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new r(e,t,i,n)),a.decomposeTransform(),this._updateTransform()},setCenter:function(e){e&&(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),a=this.getZoom();n=o.applyTransform([],n,e),i=o.applyTransform([],i,e),t.origin=n,t.position=[i[0]-n[0],i[1]-n[1]],t.scale=[a,a],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),a.copy(this.transform||(this.transform=[]),t.transform||a.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],a.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?n.slice(e):a.create(),rawScale:n.slice(t.scale),rawPosition:n.slice(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,i){var n=t?this._rawTransform:this.transform;return i=i||[],n?l(i,e,n):o.copy(i,e)},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]},convertToPixel:n.curry(c,"dataToPoint"),convertFromPixel:n.curry(c,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},n.mixin(d,s);var h=d;e.exports=h},509:function(e,t,i){var n=i(272),o=i(276),a=i(275),r=i(284).getLayoutRect,s=i(282).windowOpen;o.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),o.extendComponentView({type:"title",render:function(e,t,i){if(this.group.removeAll(),e.get("show")){var o=this.group,l=e.getModel("textStyle"),u=e.getModel("subtextStyle"),d=e.get("textAlign"),c=n.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),h=new a.Text({style:a.setTextStyle({},l,{text:e.get("text"),textFill:l.getTextColor()},{disableBox:!0}),z2:10}),g=h.getBoundingRect(),p=e.get("subtext"),f=new a.Text({style:a.setTextStyle({},u,{text:p,textFill:u.getTextColor(),y:g.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),v=e.get("sublink"),y=e.get("triggerEvent",!0);h.silent=!m&&!y,f.silent=!v&&!y,m&&h.on("click",(function(){s(m,"_"+e.get("target"))})),v&&f.on("click",(function(){s(v,"_"+e.get("subtarget"))})),h.eventData=f.eventData=y?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(h),p&&o.add(f);var x=o.getBoundingRect(),_=e.getBoxLayoutParams();_.width=x.width,_.height=x.height;var b=r(_,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));d||("middle"===(d=e.get("left")||e.get("right"))&&(d="center"),"right"===d?b.x+=b.width:"center"===d&&(b.x+=b.width/2)),c||("center"===(c=e.get("top")||e.get("bottom"))&&(c="middle"),"bottom"===c?b.y+=b.height:"middle"===c&&(b.y+=b.height/2),c=c||"top"),o.attr("position",[b.x,b.y]);var S={textAlign:d,textVerticalAlign:c};h.setStyle(S),f.setStyle(S),x=o.getBoundingRect();var w=b.margin,I=e.getItemStyle(["color","opacity"]);I.fill=e.get("backgroundColor");var T=new a.Rect({shape:{x:x.x-w[3],y:x.y-w[0],width:x.width+w[1]+w[3],height:x.height+w[0]+w[2],r:e.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});o.add(T)}}})},510:function(e,t,i){var n=i(276),o=i(272);function a(e,t,i){var n,a={},r="toggleSelected"===e;return i.eachComponent("legend",(function(i){r&&null!=n?i[n?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?i[e]():(i[e](t.name),n=i.isSelected(t.name));var s=i.getData();o.each(s,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var n=i.isSelected(t);a.hasOwnProperty(t)?a[t]=a[t]&&n:a[t]=n}}))})),"allSelect"===e||"inverseSelect"===e?{selected:a}:{name:t.name,selected:a}}n.registerAction("legendToggleSelect","legendselectchanged",o.curry(a,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",o.curry(a,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",o.curry(a,"inverseSelect")),n.registerAction("legendSelect","legendselected",o.curry(a,"select")),n.registerAction("legendUnSelect","legendunselected",o.curry(a,"unSelect"))},511:function(e,t,i){var n=i(284),o=n.getLayoutRect,a=n.box,r=n.positionElement,s=i(282),l=i(275);t.layout=function(e,t,i){var n=t.getBoxLayoutParams(),s=t.get("padding"),l={width:i.getWidth(),height:i.getHeight()},u=o(n,l,s);a(t.get("orient"),e,t.get("itemGap"),u.width,u.height),r(e,n,l,s)},t.makeBackground=function(e,t){var i=s.normalizeCssArray(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new l.Rect({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}},512:function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0}))}},513:function(e,t,i){var n=i(276);i(514),i(523),i(524),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},514:function(e,t,i){var n=i(276),o=i(272),a=i(310),r=i(515);i(516),i(517),i(518),n.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!o.isArray(t)&&(e.axisPointer.link=[t])}})),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=a.collect(e,t)})),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},r)},515:function(e,t,i){var n=i(272),o=i(273).makeInner,a=i(310),r=i(384),s=n.each,l=n.curry,u=o();function d(e,t,i,o,a){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t))if(e.involveSeries){var l=function(e,t){var i=t.axis,n=i.dim,o=e,a=[],r=Number.MAX_VALUE,l=-1;return s(t.seriesModels,(function(t,u){var d,c,h=t.getData().mapDimension(n,!0);if(t.getAxisTooltipData){var g=t.getAxisTooltipData(h,e,i);c=g.dataIndices,d=g.nestestValue}else{if(!(c=t.getData().indicesOfNearest(h[0],e,"category"===i.type?.5:null)).length)return;d=t.getData().get(h[0],c[0])}if(null!=d&&isFinite(d)){var p=e-d,f=Math.abs(p);f<=r&&((f<r||p>=0&&l<0)&&(r=f,l=p,o=d,a.length=0),s(c,(function(e){a.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:a,snapToValue:o}}(t,e),u=l.payloadBatch,d=l.snapToValue;u[0]&&null==a.seriesIndex&&n.extend(a,u[0]),!o&&e.snap&&r.containData(d)&&null!=d&&(t=d),i.showPointer(e,t,u,a),i.showTooltip(e,l,d)}else i.showPointer(e,t)}function c(e,t,i,n){e[t.key]={value:i,payloadBatch:n}}function h(e,t,i,n){var o=i.payloadBatch,r=t.axis,s=r.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var u=t.coordSys.model,d=a.makeKey(u),c=e.map[d];c||(c=e.map[d]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function g(e){var t=e.axis.model,i={},n=i.axisDim=e.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=t.componentIndex,i.axisName=i[n+"AxisName"]=t.name,i.axisId=i[n+"AxisId"]=t.id,i}function p(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=function(e,t,i){var o=e.currTrigger,a=[e.x,e.y],f=e,m=e.dispatchAction||n.bind(i.dispatchAction,i),v=t.getComponent("axisPointer").coordSysAxesInfo;if(v){p(a)&&(a=r({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},t).point);var y=p(a),x=f.axesInfo,_=v.axesInfo,b="leave"===o||p(a),S={},w={},I={list:[],map:{}},T={showPointer:l(c,w),showTooltip:l(h,I)};s(v.coordSysMap,(function(e,t){var i=y||e.containPoint(a);s(v.coordSysAxesInfo[t],(function(e,t){var n=e.axis,o=function(e,t){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}(x,e);if(!b&&i&&(!x||o)){var r=o&&o.value;null!=r||y||(r=n.pointToData(a)),null!=r&&d(e,r,T,!1,S)}}))}));var M={};return s(_,(function(e,t){var i=e.linkGroup;i&&!w[t]&&s(i.axesInfo,(function(t,n){var o=w[n];if(t!==e&&o){var a=o.value;i.mapper&&(a=e.axis.scale.parse(i.mapper(a,g(t),g(e)))),M[e.key]=a}}))})),s(M,(function(e,t){d(_[t],e,T,!0,S)})),function(e,t,i){var n=i.axesInfo=[];s(t,(function(t,i){var o=t.axisPointerModel.option,a=e[i];a?(!t.useHandle&&(o.status="show"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!t.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:o.value})}))}(w,_,S),function(e,t,i,n){if(p(t)||!e.list.length)return void n({type:"hideTip"});var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}(I,a,e,m),function(e,t,i){var o=i.getZr(),a=u(o).axisPointerLastHighlights||{},r=u(o).axisPointerLastHighlights={};s(e,(function(e,t){var i=e.axisPointerModel.option;"show"===i.status&&s(i.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;r[t]=e}))}));var l=[],d=[];n.each(a,(function(e,t){!r[t]&&d.push(e)})),n.each(r,(function(e,t){!a[t]&&l.push(e)})),d.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:d}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(_,0,i),S}}},516:function(e,t,i){var n=i(276).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=n},517:function(e,t,i){var n=i(276),o=i(385),a=n.extendComponentView({type:"axisPointer",render:function(e,t,i){var n=t.getComponent("tooltip"),a=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";o.register("axisPointer",i,(function(e,t,i){"none"!==a&&("leave"===e||a.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){o.unregister(t.getZr(),"axisPointer"),a.superApply(this._model,"remove",arguments)},dispose:function(e,t){o.unregister("axisPointer",t),a.superApply(this._model,"dispose",arguments)}}),r=a;e.exports=r},518:function(e,t,i){var n=i(519),o=i(386),a=i(521),r=i(522),s=n.extend({makeElOption:function(e,t,i,n,r){var s=i.axis,d=s.grid,c=n.get("type"),h=l(d,s).getOtherAxis(s).getGlobalExtent(),g=s.toGlobalCoord(s.dataToCoord(t,!0));if(c&&"none"!==c){var p=o.buildElStyle(n),f=u[c](s,g,h);f.style=p,e.graphicKey=f.type,e.pointer=f}var m=a.layout(d.model,i);o.buildCartesianSingleLabelElOption(t,e,m,i,n,r)},getHandleTransform:function(e,t,i){var n=a.layout(t.axis.grid.model,t,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:o.getTransformedPosition(t.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=l(a,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,d=e.position;d[u]+=t[u],d[u]=Math.min(r[1],d[u]),d[u]=Math.max(r[0],d[u]);var c=(s[1]+s[0])/2,h=[c,c];h[u]=d[u];return{position:d,rotation:e.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}}});function l(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}var u={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:o.makeLineShape([t,i[0]],[t,i[1]],d(e))}},shadow:function(e,t,i){var n=Math.max(1,e.getBandWidth()),a=i[1]-i[0];return{type:"Rect",shape:o.makeRectShape([t-n/2,i[0]],[n,a],d(e))}}};function d(e){return"x"===e.dim?0:1}r.registerAxisPointerClass("CartesianAxisPointer",s);var c=s;e.exports=c},519:function(e,t,i){var n=i(272),o=i(286),a=i(275),r=i(310),s=i(290),l=i(323),u=(0,i(273).makeInner)(),d=n.clone,c=n.bind;function h(){}function g(e,t,i,o){(function e(t,i){if(n.isObject(t)&&n.isObject(i)){var o=!0;return n.each(i,(function(i,n){o=o&&e(t[n],i)})),!!o}return t===i})(u(i).lastProp,o)||(u(i).lastProp=o,t?a.updateProps(i,o,e):(i.stopAnimation(),i.attr(o)))}function p(e,t){e[t.get("label.show")?"show":"hide"]()}function f(e){return{position:e.position.slice(),rotation:e.rotation||0}}function m(e,t,i){var n=t.get("z"),o=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=o&&(e.zlevel=o),e.silent=i)}))}h.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,i,o){var r=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,o||this._lastValue!==r||this._lastStatus!==s){this._lastValue=r,this._lastStatus=s;var l=this._group,u=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(u&&u.hide());l&&l.show(),u&&u.show();var d={};this.makeElOption(d,r,e,t,i);var c=d.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,t);if(l){var p=n.curry(g,t,h);this.updatePointerEl(l,d,p,t),this.updateLabelEl(l,d,p,t)}else l=this._group=new a.Group,this.createPointerEl(l,d,e,t),this.createLabelEl(l,d,e,t),i.getZr().add(l);m(l,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var i=t.get("animation"),n=e.axis,o="category"===n.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&n.getBandWidth()>s)return!0;if(a){var l=r.getAxisInfo(e).seriesDataCount,u=n.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===i},makeElOption:function(e,t,i,n,o){},createPointerEl:function(e,t,i,n){var o=t.pointer;if(o){var r=u(e).pointerEl=new a[o.type](d(t.pointer));e.add(r)}},createLabelEl:function(e,t,i,n){if(t.label){var o=u(e).labelEl=new a.Rect(d(t.label));e.add(o),p(o,n)}},updatePointerEl:function(e,t,i){var n=u(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,i,n){var o=u(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{shape:t.label.shape,position:t.label.position}),p(o,n))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,o=this._api.getZr(),r=this._handle,u=i.getModel("handle"),d=i.get("status");if(!u.get("show")||!d||"hide"===d)return r&&o.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=a.createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){s.stop(e.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),o.add(r)),m(r,i,!1);r.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=u.get("size");n.isArray(h)||(h=[h,h]),r.attr("scale",[h[0]/2,h[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){g(this._axisPointerModel,!t&&this._moveAnimation,this._handle,f(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(f(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(f(n)),u(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}},h.prototype.constructor=h,o.enableClassExtend(h);var v=h;e.exports=v},520:function(e,t,i){var n=i(272),o=n.retrieve,a=n.defaults,r=n.extend,s=n.each,l=i(282),u=i(275),d=i(283),c=i(277),h=c.isRadianAroundZero,g=c.remRadian,p=i(301).createSymbol,f=i(288),m=i(274).applyTransform,v=i(300).shouldShowAllLabels,y=Math.PI,x=function(e,t){this.opt=t,this.axisModel=e,a(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new u.Group;var i=new u.Group({position:t.position.slice(),rotation:t.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};x.prototype={constructor:x,hasBuilder:function(e){return!!_[e]},add:function(e){_[e].call(this)},getGroup:function(){return this.group}};var _={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],a=[i[1],0];n&&(m(o,o,n),m(a,a,n));var l=r({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new u.Line({anid:"line",subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var d=t.get("axisLine.symbol"),c=t.get("axisLine.symbolSize"),h=t.get("axisLine.symbolOffset")||0;if("number"==typeof h&&(h=[h,h]),null!=d){"string"==typeof d&&(d=[d,d]),"string"!=typeof c&&"number"!=typeof c||(c=[c,c]);var g=c[0],f=c[1];s([{rotate:e.rotation+Math.PI/2,offset:h[0],r:0},{rotate:e.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],(function(t,i){if("none"!==d[i]&&null!=d[i]){var n=p(d[i],-g/2,-f/2,g,f,l.stroke,!0),a=t.r+t.offset,r=[o[0]+a*Math.cos(e.rotation),o[1]-a*Math.sin(e.rotation)];n.attr({rotation:t.rotate,position:r,silent:!0,z2:11}),this.group.add(n)}}),this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,i=function(e,t,i){var n=t.axis,o=t.getModel("axisTick");if(!o.get("show")||n.scale.isBlank())return;for(var r=o.getModel("lineStyle"),s=i.tickDirection*o.get("length"),l=A(n.getTicksCoords(),e._transform,s,a(r.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<l.length;u++)e.group.add(l[u]);return l}(this,e,t),n=function(e,t,i){var n=t.axis;if(!o(i.axisLabelShow,t.get("axisLabel.show"))||n.scale.isBlank())return;var a=t.getModel("axisLabel"),r=a.get("margin"),l=n.getViewLabels(),c=(o(i.labelRotate,a.get("rotate"))||0)*y/180,h=S(i.rotation,c,i.labelDirection),g=t.getCategories&&t.getCategories(!0),p=[],f=w(t),m=t.get("triggerEvent");return s(l,(function(o,s){var l=o.tickValue,c=o.formattedLabel,v=o.rawLabel,y=a;g&&g[l]&&g[l].textStyle&&(y=new d(g[l].textStyle,a,t.ecModel));var x=y.getTextColor()||t.get("axisLine.lineStyle.color"),_=[n.dataToCoord(l),i.labelOffset+i.labelDirection*r],S=new u.Text({anid:"label_"+l,position:_,rotation:h.rotation,silent:f,z2:10});u.setTextStyle(S.style,y,{text:c,textAlign:y.getShallow("align",!0)||h.textAlign,textVerticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||h.textVerticalAlign,textFill:"function"==typeof x?x("category"===n.type?v:"value"===n.type?l+"":l,s):x}),m&&(S.eventData=b(t),S.eventData.targetType="axisLabel",S.eventData.value=v),e._dumbGroup.add(S),S.updateTransform(),p.push(S),e.group.add(S),S.decomposeTransform()})),p}(this,e,t);!function(e,t,i){if(v(e.axis))return;var n=e.get("axisLabel.showMinLabel"),o=e.get("axisLabel.showMaxLabel");i=i||[];var a=(t=t||[])[0],r=t[1],s=t[t.length-1],l=t[t.length-2],u=i[0],d=i[1],c=i[i.length-1],h=i[i.length-2];!1===n?(I(a),I(u)):T(a,r)&&(n?(I(r),I(d)):(I(a),I(u)));!1===o?(I(s),I(c)):T(l,s)&&(o?(I(l),I(h)):(I(s),I(c)))}(e,n,i),function(e,t,i){var n=t.axis,o=t.getModel("minorTick");if(!o.get("show")||n.scale.isBlank())return;var r=n.getMinorTicksCoords();if(!r.length)return;for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=a(s.getLineStyle(),a(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),d=0;d<r.length;d++)for(var c=A(r[d],e._transform,l,u,"minorticks_"+d),h=0;h<c.length;h++)e.group.add(c[h])}(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,i=o(e.axisName,t.get("name"));if(i){var n,a,s=t.get("nameLocation"),d=e.nameDirection,c=t.getModel("nameTextStyle"),p=t.get("nameGap")||0,f=this.axisModel.axis.getExtent(),m=f[0]>f[1]?-1:1,v=["start"===s?f[0]-m*p:"end"===s?f[1]+m*p:(f[0]+f[1])/2,M(s)?e.labelOffset+d*p:0],x=t.get("nameRotate");null!=x&&(x=x*y/180),M(s)?n=S(e.rotation,null!=x?x:e.rotation,d):(n=function(e,t,i,n){var o,a,r=g(i-e.rotation),s=n[0]>n[1],l="start"===t&&!s||"start"!==t&&s;h(r-y/2)?(a=l?"bottom":"top",o="center"):h(r-1.5*y)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*y&&r>y/2?l?"left":"right":l?"right":"left");return{rotation:r,textAlign:o,textVerticalAlign:a}}(e,s,x||0,f),null!=(a=e.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(n.rotation)),!isFinite(a)&&(a=null)));var _=c.getFont(),I=t.get("nameTruncate",!0)||{},T=I.ellipsis,A=o(e.nameTruncateMaxWidth,I.maxWidth,a),C=null!=T&&null!=A?l.truncateText(i,A,_,T,{minChar:2,placeholder:I.placeholder}):i,D=t.get("tooltip",!0),L=t.mainType,P={componentType:L,name:i,$vars:["name"]};P[L+"Index"]=t.componentIndex;var O=new u.Text({anid:"name",__fullText:i,__truncatedText:C,position:v,rotation:n.rotation,silent:w(t),z2:1,tooltip:D&&D.show?r({content:i,formatter:function(){return i},formatterParams:P},D):null});u.setTextStyle(O.style,c,{text:C,textFont:_,textFill:c.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:c.get("align")||n.textAlign,textVerticalAlign:c.get("verticalAlign")||n.textVerticalAlign}),t.get("triggerEvent")&&(O.eventData=b(t),O.eventData.targetType="axisName",O.eventData.name=i),this._dumbGroup.add(O),O.updateTransform(),this.group.add(O),O.decomposeTransform()}}},b=x.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},S=x.innerTextLayout=function(e,t,i){var n,o,a=g(t-e);return h(a)?(o=i>0?"top":"bottom",n="center"):h(a-y)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=a>0&&a<y?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:n,textVerticalAlign:o}};var w=x.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function I(e){e&&(e.ignore=!0)}function T(e,t,i){var n=e&&e.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(n&&o){var a=f.identity([]);return f.rotate(a,a,-e.rotation),n.applyTransform(f.mul([],a,e.getLocalTransform())),o.applyTransform(f.mul([],a,t.getLocalTransform())),n.intersect(o)}}function M(e){return"middle"===e||"center"===e}function A(e,t,i,n,o){for(var a=[],r=[],s=[],l=0;l<e.length;l++){var d=e[l].coord;r[0]=d,r[1]=0,s[0]=d,s[1]=i,t&&(m(r,r,t),m(s,s,t));var c=new u.Line({anid:o+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:n,z2:2,silent:!0});a.push(c)}return a}var C=x;e.exports=C},521:function(e,t,i){var n=i(272);t.layout=function(e,t,i){i=i||{};var o=e.coordinateSystem,a=t.axis,r={},s=a.getAxesOnZeroOf()[0],l=a.position,u=s?"onZero":l,d=a.dim,c=o.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],g={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,f="x"===d?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));f[g.onZero]=Math.max(Math.min(m,f[1]),f[0])}r.position=["y"===d?f[g[u]]:h[0],"x"===d?f[g[u]]:h[3]],r.rotation=Math.PI/2*("x"===d?0:1),r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],r.labelOffset=s?f[g[l]]-f[g.onZero]:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),n.retrieve(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var v=t.get("axisLabel.rotate");return r.labelRotate="top"===u?-v:v,r.z2=1,r}},522:function(e,t,i){i(278).__DEV__;var n=i(276),o=i(310),a=n.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,i,n){this.axisPointerClass&&o.fixValue(e),a.superApply(this,"render",arguments),r(this,e,t,i,n,!0)},updateAxisPointer:function(e,t,i,n,o){r(this,e,t,i,n,!1)},remove:function(e,t){var i=this._axisPointer;i&&i.remove(t),a.superApply(this,"remove",arguments)},dispose:function(e,t){s(this,t),a.superApply(this,"dispose",arguments)}});function r(e,t,i,n,r,l){var u=a.getAxisPointerClass(e.axisPointerClass);if(u){var d=o.getAxisPointerModel(t);d?(e._axisPointer||(e._axisPointer=new u)).render(t,d,n,l):s(e,n)}}function s(e,t,i){var n=e._axisPointer;n&&n.dispose(t,i),e._axisPointer=null}var l=[];a.registerAxisPointerClass=function(e,t){l[e]=t},a.getAxisPointerClass=function(e){return e&&l[e]};var u=a;e.exports=u},523:function(e,t,i){var n=i(276).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=n},524:function(e,t,i){var n=i(276),o=i(272),a=i(279),r=i(525),s=i(526),l=i(282),u=i(277),d=i(275),c=i(384),h=i(284),g=i(283),p=i(385),f=i(300),m=i(386),v=i(273).getTooltipRenderMode,y=o.bind,x=o.each,_=u.parsePercent,b=new d.Rect({shape:{x:-1,y:-1,width:2,height:2}}),S=n.extendComponentView({type:"tooltip",init:function(e,t){if(!a.node){var i,n=e.getComponent("tooltip"),o=n.get("renderMode");this._renderMode=v(o),"html"===this._renderMode?(i=new r(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new s(t),this._newLine="\n"),this._tooltipContent=i}},render:function(e,t,i){if(!a.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var n=this._tooltipContent;n.update(e),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");p.register("itemTooltip",this._api,y((function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))}),this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(e,t,i,{x:n._lastX,y:n._lastY})}))}},manuallyShowTip:function(e,t,i,n){if(n.from!==this.uid&&!a.node){var o=I(n,i);this._ticket="";var r=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var s=b;s.position=[n.x,n.y],s.update(),s.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:s},o)}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,n))return;var l=c(n,t),u=l.point[0],d=l.point[1];null!=u&&null!=d&&this._tryShow({offsetX:u,offsetY:d,position:n.position,target:l.el},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},manuallyHideTip:function(e,t,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(I(n,i))},_manuallyAxisShowTip:function(e,t,i,n){var o=n.seriesIndex,a=n.dataIndex,r=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=t.getSeriesByIndex(o);if(s)if("axis"===(e=w([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,e])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:n.position}),!0}},_tryShow:function(e,t){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var n=e.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,e):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,i,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var i=e.get("showDelay");t=o.bind(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(e,t){var i=this._ecModel,n=this._tooltipModel,a=[t.offsetX,t.offsetY],r=[],s=[],u=w([t.tooltipOption,n]),d=this._renderMode,c=this._newLine,h={};x(e,(function(e){x(e.dataByAxis,(function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),n=e.value,a=[];if(t&&null!=n){var u=m.getValueLabel(n,t.axis,i,e.seriesDataIndices,e.valueLabelOpt);o.each(e.seriesDataIndices,(function(r){var l=i.getSeriesByIndex(r.seriesIndex),c=r.dataIndexInside,g=l&&l.getDataParams(c);if(g.axisDim=e.axisDim,g.axisIndex=e.axisIndex,g.axisType=e.axisType,g.axisId=e.axisId,g.axisValue=f.getAxisRawValue(t.axis,n),g.axisValueLabel=u,g){s.push(g);var p,m=l.formatTooltip(c,!0,null,d);if(o.isObject(m)){p=m.html;var v=m.markers;o.merge(h,v)}else p=m;a.push(p)}}));var g=u;"html"!==d?r.push(a.join(c)):r.push((g?l.encodeHTML(g)+c:"")+a.join(c))}}))}),this),r.reverse(),r=r.join(this._newLine+this._newLine);var g=t.position;this._showOrMove(u,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(u,g,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(u,r,s,Math.random(),a[0],a[1],g,void 0,h)}))},_showSeriesItemTooltip:function(e,t,i){var n=this._ecModel,a=t.seriesIndex,r=n.getSeriesByIndex(a),s=t.dataModel||r,l=t.dataIndex,u=t.dataType,d=s.getData(u),c=w([d.getItemModel(l),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),h=c.get("trigger");if(null==h||"item"===h){var g,p,f=s.getDataParams(l,u),m=s.formatTooltip(l,!1,u,this._renderMode);o.isObject(m)?(g=m.html,p=m.markers):(g=m,p=null);var v="item_"+s.name+"_"+l;this._showOrMove(c,(function(){this._showTooltipContent(c,g,f,v,e.offsetX,e.offsetY,e.position,e.target,p)})),i({type:"showTip",dataIndexInside:l,dataIndex:d.getRawIndex(l),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(e,t,i){var n=t.tooltip;if("string"==typeof n){n={content:n,formatter:n}}var o=new g(n,this._tooltipModel,this._ecModel),a=o.get("content"),r=Math.random();this._showOrMove(o,(function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},r,e.offsetX,e.offsetY,e.position,t)})),i({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,i,n,o,a,r,s,u){if(this._ticket="",e.get("showContent")&&e.get("show")){var d=this._tooltipContent,c=e.get("formatter");r=r||e.get("position");var h=t;if(c&&"string"==typeof c)h=l.formatTpl(c,i,!0);else if("function"==typeof c){var g=y((function(t,n){t===this._ticket&&(d.setContent(n,u,e),this._updatePosition(e,r,o,a,d,i,s))}),this);this._ticket=n,h=c(i,n,g)}d.setContent(h,u,e),d.show(e),this._updatePosition(e,r,o,a,d,i,s)}},_updatePosition:function(e,t,i,n,a,r,s){var l=this._api.getWidth(),u=this._api.getHeight();t=t||e.get("position");var d=a.getSize(),c=e.get("align"),g=e.get("verticalAlign"),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),"function"==typeof t&&(t=t([i,n],r,a.el,p,{viewSize:[l,u],contentSize:d.slice()})),o.isArray(t))i=_(t[0],l),n=_(t[1],u);else if(o.isObject(t)){t.width=d[0],t.height=d[1];var f=h.getLayoutRect(t,{width:l,height:u});i=f.x,n=f.y,c=null,g=null}else if("string"==typeof t&&s){var m=function(e,t,i){var n=i[0],o=i[1],a=0,r=0,s=t.width,l=t.height;switch(e){case"inside":a=t.x+s/2-n/2,r=t.y+l/2-o/2;break;case"top":a=t.x+s/2-n/2,r=t.y-o-5;break;case"bottom":a=t.x+s/2-n/2,r=t.y+l+5;break;case"left":a=t.x-n-5,r=t.y+l/2-o/2;break;case"right":a=t.x+s+5,r=t.y+l/2-o/2}return[a,r]}(t,p,d);i=m[0],n=m[1]}else{m=function(e,t,i,n,o,a,r){var s=i.getOuterSize(),l=s.width,u=s.height;null!=a&&(e+l+a>n?e-=l+a:e+=a);null!=r&&(t+u+r>o?t-=u+r:t+=r);return[e,t]}(i,n,a,l,u,c?null:20,g?null:20);i=m[0],n=m[1]}if(c&&(i-=T(c)?d[0]/2:"right"===c?d[0]:0),g&&(n-=T(g)?d[1]/2:"bottom"===g?d[1]:0),e.get("confine")){m=function(e,t,i,n,o){var a=i.getOuterSize(),r=a.width,s=a.height;return e=Math.min(e+r,n)-r,t=Math.min(t+s,o)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(i,n,a,l,u);i=m[0],n=m[1]}a.moveTo(i,n)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,i=!!t&&t.length===e.length;return i&&x(t,(function(t,n){var o=t.dataByAxis||{},a=(e[n]||{}).dataByAxis||[];(i&=o.length===a.length)&&x(o,(function(e,t){var n=a[t]||{},o=e.seriesDataIndices||[],r=n.seriesDataIndices||[];(i&=e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&o.length===r.length)&&x(o,(function(e,t){var n=r[t];i&=e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex}))}))})),this._lastDataByCoordSys=e,!!i},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){a.node||(this._tooltipContent.dispose(),p.unregister("itemTooltip",t))}});function w(e){for(var t=e.pop();e.length;){var i=e.pop();i&&(g.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),t=new g(i,t,t.ecModel))}return t}function I(e,t){return e.dispatchAction||o.bind(t.dispatchAction,t)}function T(e){return"center"===e||"middle"===e}e.exports=S},525:function(e,t,i){var n=i(272),o=i(295),a=i(290),r=i(346),s=i(279),l=i(282),u=n.each,d=l.toCamelCase,c=["","-webkit-","-moz-","-o-"];function h(e){var t,i,a=[],r=e.get("transitionDuration"),h=e.get("backgroundColor"),g=e.getModel("textStyle"),p=e.get("padding");return r&&a.push((i="left "+(t=r)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)",n.map(c,(function(e){return e+"transition:"+i})).join(";"))),h&&(s.canvasSupported?a.push("background-Color:"+h):(a.push("background-Color:#"+o.toHex(h)),a.push("filter:alpha(opacity=70)"))),u(["width","color","radius"],(function(t){var i="border-"+t,n=d(i),o=e.get(n);null!=o&&a.push(i+":"+o+("color"===t?"":"px"))})),a.push(function(e){var t=[],i=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var o=e.get("lineHeight");null==o&&(o=Math.round(3*i/2)),i&&t.push("line-height:"+o+"px");var a=e.get("textShadowColor"),r=e.get("textShadowBlur")||0,s=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return r&&t.push("text-shadow:"+s+"px "+l+"px "+r+"px "+a),u(["decoration","align"],(function(i){var n=e.get(i);n&&t.push("text-"+i+":"+n)})),t.join(";")}(g)),null!=p&&a.push("padding:"+l.normalizeCssArray(p).join("px ")+"px"),a.join(";")+";"}function g(e,t,i,n,o){var a=t&&t.painter;if(i){var s=a&&a.getViewportRoot();s&&r.transformLocalCoord(e,s,document.body,n,o)}else{e[0]=n,e[1]=o;var l=a&&a.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function p(e,t,i){if(s.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=t.getZr(),r=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0,0,0],g(this._styleCoord,o,r,t.getWidth()/2,t.getHeight()/2),r?document.body.appendChild(n):e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var l=this;n.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!l._enterable){var t=o.handler,i=o.painter.getViewportRoot();a.normalizeEvent(i,e,!0),t.dispatch("mousemove",e)}},n.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}p.prototype={constructor:p,_enterable:!0,update:function(e){var t=this._container,i=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==i.position&&(n.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],i=e*this._zr.getWidth(),n=t*this._zr.getHeight();this.moveTo(i,n)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,i=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+h(e)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var i=this._styleCoord;g(i,this._zr,this._appendToBody,e,t);var n=this.el.style;n.left=i[0]+"px",n.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(e+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),t+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:e,height:t}}};var f=p;e.exports=f},526:function(e,t,i){var n=i(272),o=i(318),a=i(275);function r(e,t,i,n){e[0]=i,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function s(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],r(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1,this._hideTimeout}s.prototype={constructor:s,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],i=e*this._zr.getWidth(),n=t*this._zr.getHeight();this.moveTo(i,n)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,i){this.el&&this._zr.remove(this.el);for(var n={},r=e,s=r.indexOf("{marker");s>=0;){var l=r.indexOf("|}"),u=r.substr(s+"{marker".length,l-s-"{marker".length);u.indexOf("sub")>-1?n["marker"+u]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[u],textOffset:[3,0]}:n["marker"+u]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[u]},s=(r=r.substr(l+1)).indexOf("{marker")}var d=i.getModel("textStyle"),c=d.get("fontSize"),h=i.get("textLineHeight");null==h&&(h=Math.round(3*c/2)),this.el=new o({style:a.setTextStyle({},d,{rich:n,text:e,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding"),textLineHeight:h}),z:i.get("z")}),this._zr.add(this.el);var g=this;this.el.on("mouseover",(function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0})),this.el.on("mouseout",(function(){g._enterable&&g._show&&g.hideLater(g._hideDelay),g._inContent=!1}))},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var i=this._styleCoord;r(i,this._zr,e,t),this.el.attr("position",[i[0],i[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var l=s;e.exports=l},527:function(e,t,i){i(381),i(528),i(529),i(530)},528:function(e,t,i){var n=i(382),o=i(284),a=o.mergeLayoutParam,r=o.getLayoutParams,s=n.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,i,n){var o=r(e);s.superCall(this,"init",e,t,i,n),l(this,e,o)},mergeOption:function(e,t){s.superCall(this,"mergeOption",e,t),l(this,this.option,e)}});function l(e,t,i){var n=[1,1];n[e.getOrient().index]=0,a(t,i,{type:"box",ignoreSize:n})}var u=s;e.exports=u},529:function(e,t,i){var n=i(272),o=i(275),a=i(284),r=i(383),s=o.Group,l=["width","height"],u=["x","y"],d=r.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){d.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new s),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new s),this._showController},resetInner:function(){d.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,i,a,r,s,l){var u=this;d.superCall(this,"renderInner",e,t,i,a,r,s,l);var c=this._controllerGroup,h=t.get("pageIconSize",!0);n.isArray(h)||(h=[h,h]),p("pagePrev",0);var g=t.getModel("pageTextStyle");function p(e,i){var r=e+"DataIndex",s=o.createIcon(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:n.bind(u._pageGo,u,r,t,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});s.name=e,c.add(s)}c.add(new o.Text({name:"pageText",style:{textFill:g.getTextColor(),font:g.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),p("pageNext",1)},layoutInner:function(e,t,i,o,r,s){var d=this.getSelectorGroup(),c=e.getOrient().index,h=l[c],g=u[c],p=l[1-c],f=u[1-c];r&&a.box("horizontal",d,e.get("selectorItemGap",!0));var m=e.get("selectorButtonGap",!0),v=d.getBoundingRect(),y=[-v.x,-v.y],x=n.clone(i);r&&(x[h]=i[h]-v[h]-m);var _=this._layoutContentAndController(e,o,x,c,h,p,f);if(r){if("end"===s)y[c]+=_[h]+m;else{var b=v[h]+m;y[c]-=b,_[g]-=b}_[h]+=v[h]+m,y[1-c]+=_[f]+_[p]/2-v[p]/2,_[p]=Math.max(_[p],v[p]),_[f]=Math.min(_[f],v[f]+y[1-c]),d.attr("position",y)}return _},_layoutContentAndController:function(e,t,i,r,s,l,u){var d=this.getContentGroup(),c=this._containerGroup,h=this._controllerGroup;a.box(e.get("orient"),d,e.get("itemGap"),r?i.width:null,r?null:i.height),a.box("horizontal",h,e.get("pageButtonItemGap",!0));var g=d.getBoundingRect(),p=h.getBoundingRect(),f=this._showController=g[s]>i[s],m=[-g.x,-g.y];t||(m[r]=d.position[r]);var v=[0,0],y=[-p.x,-p.y],x=n.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?y[r]+=i[s]-p[s]:v[r]+=p[s]+x);y[1-r]+=g[l]/2-p[l]/2,d.attr("position",m),c.attr("position",v),h.attr("position",y);var _={x:0,y:0};if(_[s]=f?i[s]:g[s],_[l]=Math.max(g[l],p[l]),_[u]=Math.min(0,p[u]+y[1-r]),c.__rectSize=i[s],f){var b={x:0,y:0};b[s]=Math.max(i[s]-p[s]-x,0),b[l]=_[l],c.setClipPath(new o.Rect({shape:b})),c.__rectSize=b[s]}else h.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var S=this._getPageInfo(e);return null!=S.pageIndex&&o.updateProps(d,{position:S.contentPosition},!!f&&e),this._updatePageInfoView(e,S),_},_pageGo:function(e,t,i){var n=this._getPageInfo(t)[e];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})},_updatePageInfoView:function(e,t){var i=this._controllerGroup;n.each(["pagePrev","pageNext"],(function(n){var o=null!=t[n+"DataIndex"],a=i.childOfName(n);a&&(a.setStyle("fill",o?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),a.cursor=o?"pointer":"default")}));var o=i.childOfName("pageText"),a=e.get("pageFormatter"),r=t.pageIndex,s=null!=r?r+1:0,l=t.pageCount;o&&a&&o.setStyle("text",n.isString(a)?a.replace("{current}",s).replace("{total}",l):a({current:s,total:l}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,a=l[o],r=u[o],s=this._findTargetItemIndex(t),d=i.children(),c=d[s],h=d.length,g=h?1:0,p={contentPosition:i.position.slice(),pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var f=_(c);p.contentPosition[o]=-f.s;for(var m=s+1,v=f,y=f,x=null;m<=h;++m)(!(x=_(d[m]))&&y.e>v.s+n||x&&!b(x,v.s))&&(v=y.i>v.i?y:x)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=v.i),++p.pageCount),y=x;for(m=s-1,v=f,y=f,x=null;m>=-1;--m)(x=_(d[m]))&&b(y,x.s)||!(v.i<y.i)||(y=v,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=v.i),++p.pageCount,++p.pageIndex),v=x;return p;function _(e){if(e){var t=e.getBoundingRect(),i=t[r]+e.position[o];return{s:i,e:i+t[a],i:e.__legendDataIndex}}}function b(e,t){return e.e>=t&&e.s<=t+n}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild((function(n,o){var a=n.__legendDataIndex;null==i&&null!=a&&(i=o),a===e&&(t=o)})),null!=t?t:i):0;var t,i}}),c=d;e.exports=c},530:function(e,t,i){i(276).registerAction("legendScroll","legendscroll",(function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(i)}))}))}}]);